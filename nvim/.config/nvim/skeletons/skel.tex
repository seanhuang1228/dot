%! Tex program = lualatex
\documentclass[12pt, a4paper]{article}

\usepackage{luatexja-fontspec}
\usepackage{listings}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{fancyhdr}
\usepackage{setspace}
\usepackage{hyperref}
\usepackage{enumerate}
\usepackage{stmaryrd}
\usepackage[x11names]{xcolor}
\usepackage[mathscr]{euscript}
\usepackage{xparse}

% Diagram
\usepackage{tikz}
\usetikzlibrary{positioning}

% Plot
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

\newcommand{\curly}{\rightsquigarrow}
\newcommand{\documentname}{文件名稱}
\newcommand{\inlinebmatrix}[1]{
  \big[\begin{smallmatrix}
      #1
  \end{smallmatrix}\big]
}

% environment for tikz diagram
\makeatletter
\NewDocumentEnvironment{centertikz}{m}
{
  \begin{figure}[!h]
    \centering
    \begin{tikzpicture}
}
{
    \end{tikzpicture}
    \caption{#1}
  \end{figure}
}
\makeatother

\makeatletter
\renewcommand*\env@matrix[1][*\c@MaxMatrixCols c]{%
  \hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{#1}}
\makeatother

\setmainjfont{Source Han Sans TW}

\topmargin=0pt
\headheight=15pt
\headsep=25pt
\footskip=20pt
\marginparsep=0pt
\marginparwidth=0pt
\marginparpush=0pt
\oddsidemargin=0pt
\evensidemargin=0pt
\textwidth=495pt
\textheight=700pt
\voffset=-20pt
\hoffset=-21pt
\onehalfspacing

\hypersetup{
  colorlinks=true,
  linkcolor=RoyalBlue2,
  urlcolor=RoyalBlue1,
  pdftitle={\documentname}
}

\lstset{
  basicstyle=\normalsize\ttfamily,
  backgroundcolor=\color{Azure1},
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2,
  captionpos=b,
  breaklines=true,
  breakatwhitespace=false,
  keepspaces=true,
  keywordstyle=\bfseries\color{Blue1},
  commentstyle=\itshape\color{Red4},
  stringstyle=\itshape\color{Green4},
  frame=single,
  rulecolor=\color{black},
}

% tikz diagram component
\tikzset {
states/.style={circle, draw, minimum size=15mm},
accept/.style={circle, draw, double, minimum size=15mm},
ptr/.style={->, >={stealth},},
init/.style={circle},
}

\begin{document}
\pagestyle{fancy}
\fancyfoot[C]{\thepage}
\fancyhead[L]{\documentname}
\fancyhead[R]{MYNAME}
\section{Sec 1.}
\end{document}
